<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PulseType</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header class="hero">
        <div class="hero-left">
          <div>
            <p class="eyebrow">Typing Lab</p>
            <h1 id="logo" class="logo">PulseType</h1>
          </div>
          <div class="auth">
            <button id="leaderboardBtn" class="icon-btn" type="button" aria-label="Leaderboard">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 20h16v-2H4v2zm2-4h3V8H6v8zm5 0h3V4h-3v12zm5 0h3v-6h-3v6z"></path>
              </svg>
            </button>

            <button id="userBtn" class="icon-btn" type="button" aria-label="Account">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4Z"></path>
              </svg>
            </button>

            <div id="loginMenu" class="login-menu hidden">
              <a class="icon-login" href="/auth/google" aria-label="Continue with Google">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M21.35 11.1h-9.18v2.9h5.26c-.23 1.4-1.64 4.1-5.26 4.1-3.16 0-5.74-2.62-5.74-5.85s2.58-5.85 5.74-5.85c1.8 0 3 .77 3.69 1.44l2.51-2.43C16.9 3.77 14.83 2.7 12.17 2.7 7.3 2.7 3.36 6.68 3.36 11.35s3.94 8.65 8.81 8.65c5.08 0 8.44-3.62 8.44-8.73 0-.59-.07-1.04-.16-1.47Z"></path>
                </svg>
              </a>
              <a class="icon-login" href="/auth/github" aria-label="Continue with GitHub">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 2.2a9.9 9.9 0 0 0-3.13 19.3c.5.09.68-.22.68-.48v-1.7c-2.77.62-3.36-1.19-3.36-1.19-.45-1.17-1.1-1.48-1.1-1.48-.9-.64.07-.63.07-.63 1 .07 1.53 1.05 1.53 1.05.9 1.57 2.36 1.12 2.94.86.09-.67.36-1.12.65-1.38-2.22-.26-4.56-1.14-4.56-5.08 0-1.12.39-2.04 1.03-2.76-.1-.26-.45-1.3.1-2.71 0 0 .84-.27 2.75 1.05a9.2 9.2 0 0 1 5 0c1.9-1.32 2.74-1.05 2.74-1.05.55 1.41.2 2.45.1 2.71.64.72 1.03 1.64 1.03 2.76 0 3.95-2.35 4.81-4.58 5.07.37.33.7.97.7 1.96v2.9c0 .26.18.57.69.48A9.9 9.9 0 0 0 12 2.2Z"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div class="stats">
          <div class="stat">
            <span class="stat-label">WPM</span>
            <span id="wpm" class="stat-value">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Accuracy</span>
            <span id="accuracy" class="stat-value">100%</span>
          </div>
          <div class="stat">
            <span class="stat-label">Time</span>
            <span id="time" class="stat-value">15s</span>
          </div>
        </div>
      </header>

      <section class="panel">
        <div class="options">
          <div class="toggle-group" role="group" aria-label="Test length">
            <button class="chip active" data-time="15" type="button">15s</button>
            <button class="chip" data-time="30" type="button">30s</button>
            <button class="chip" data-time="60" type="button">60s</button>
          </div>
          <button id="resetBtn" class="chip ghost" type="button">Reset</button>
        </div>

        <div id="test" class="test" aria-live="polite"></div>
        <p class="kbd-hint">
          Restart:
          <kbd>Tab</kbd>
          +
          <kbd>Enter</kbd>
        </p>
        <input id="input" class="hidden-input" type="text" autocomplete="off" spellcheck="false" aria-label="Typing input" />
      </section>

    </main>

    <div id="resultOverlay" class="overlay" aria-hidden="true">
      <div class="overlay-card" role="dialog" aria-modal="true" aria-labelledby="resultTitle">
        <h2 id="resultTitle">Session Complete</h2>
        <p id="resultWpm" class="result-stat">WPM: 0</p>
        <p id="resultAccuracy" class="result-stat">Accuracy: 100%</p>
        <p id="resultWords" class="result-stat">Words: 0</p>
        <p id="resultChars" class="result-stat">Characters: 0</p>
        <div class="chart-wrap">
          <canvas id="resultChart" width="360" height="160" aria-label="WPM chart"></canvas>
        </div>
        <div class="overlay-actions">
          <button id="retryBtn" class="btn" type="button">Try Again</button>
        </div>
      </div>
    </div>

    <div id="profileOverlay" class="overlay profile" aria-hidden="true">
      <div class="profile-card" role="dialog" aria-modal="true" aria-labelledby="profileTitle">
        <div class="profile-header">
          <div class="profile-user">
            <img id="profileAvatar" class="hidden" alt="User avatar" />
            <div>
              <h2 id="profileTitle">Your Profile</h2>
              <p id="profileName">Guest</p>
              <p id="profileProvider" class="profile-meta"></p>
              <p id="profileJoin" class="profile-meta"></p>
              <p id="profileLevel" class="profile-meta"></p>
              <div class="xp-bar">
                <div id="profileXpFill" class="xp-fill"></div>
              </div>
              <p id="profileXpText" class="profile-meta"></p>
              <p id="profileTitleLine" class="profile-meta"></p>
            </div>
          </div>
          <button id="closeProfileBtn" class="chip ghost" type="button">Close</button>
        </div>
        <div class="profile-stats">
          <div>
            <h3>Best Scores</h3>
            <div id="profileBestBar" class="best-bar"></div>
          </div>
          <div>
            <h3>Recent Runs</h3>
            <ul id="profileRecent" class="profile-list"></ul>
          </div>
        </div>
        <div class="profile-titles">
          <h3>Title</h3>
          <select id="titleSelect"></select>
          <p class="profile-meta">Choose which unlocked title to display.</p>
        </div>
        <div class="profile-keyboard">
          <label for="keyboardSelect">Keyboard</label>
          <select id="keyboardSelect">
            <option value="">Select a keyboard</option>
            <option>Keychron</option>
            <option>Razer</option>
            <option>Logitech</option>
            <option>Corsair</option>
            <option>Ducky</option>
            <option>HHKB</option>
            <option>Unlisted / Custom</option>
          </select>
          <div id="keyboardCustomWrap" class="keyboard-custom hidden">
            <input id="keyboardCustomInput" type="text" placeholder="Type your keyboard model" />
            <button id="keyboardCustomSave" class="chip" type="button">Save</button>
          </div>
          <p id="keyboardStatus" class="profile-meta"></p>
        </div>
        <div class="profile-actions">
          <button id="logoutBtn" class="chip logout-btn" type="button">Log out</button>
        </div>
      </div>
    </div>

    <div id="loginOverlay" class="overlay login" aria-hidden="true">
      <div class="login-card" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
        <div class="login-header">
          <h2 id="loginTitle">Log in</h2>
          <button id="closeLoginBtn" class="chip ghost" type="button">Close</button>
        </div>
        <p class="login-subtitle">Choose a provider to continue.</p>
        <div class="login-options">
          <a class="login-option" href="/auth/google">
            <span class="login-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21.35 11.1h-9.18v2.9h5.26c-.23 1.4-1.64 4.1-5.26 4.1-3.16 0-5.74-2.62-5.74-5.85s2.58-5.85 5.74-5.85c1.8 0 3 .77 3.69 1.44l2.51-2.43C16.9 3.77 14.83 2.7 12.17 2.7 7.3 2.7 3.36 6.68 3.36 11.35s3.94 8.65 8.81 8.65c5.08 0 8.44-3.62 8.44-8.73 0-.59-.07-1.04-.16-1.47Z"></path>
              </svg>
            </span>
            <span>Continue with Google</span>
          </a>
          <a class="login-option" href="/auth/github">
            <span class="login-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2.2a9.9 9.9 0 0 0-3.13 19.3c.5.09.68-.22.68-.48v-1.7c-2.77.62-3.36-1.19-3.36-1.19-.45-1.17-1.1-1.48-1.1-1.48-.9-.64.07-.63.07-.63 1 .07 1.53 1.05 1.53 1.05.9 1.57 2.36 1.12 2.94.86.09-.67.36-1.12.65-1.38-2.22-.26-4.56-1.14-4.56-5.08 0-1.12.39-2.04 1.03-2.76-.1-.26-.45-1.3.1-2.71 0 0 .84-.27 2.75 1.05a9.2 9.2 0 0 1 5 0c1.9-1.32 2.74-1.05 2.74-1.05.55 1.41.2 2.45.1 2.71.64.72 1.03 1.64 1.03 2.76 0 3.95-2.35 4.81-4.58 5.07.37.33.7.97.7 1.96v2.9c0 .26.18.57.69.48A9.9 9.9 0 0 0 12 2.2Z"></path>
              </svg>
            </span>
            <span>Continue with GitHub</span>
          </a>
        </div>
      </div>
    </div>

    <div id="leaderboardOverlay" class="overlay leaderboard-overlay" aria-hidden="true">
      <div class="leaderboard-card" role="dialog" aria-modal="true" aria-labelledby="leaderboardTitle">
        <aside class="leaderboard-tabs">
          <button class="tab-btn active" data-duration="15" type="button">Time 15</button>
          <button class="tab-btn" data-duration="30" type="button">Time 30</button>
          <button class="tab-btn" data-duration="60" type="button">Time 60</button>
        </aside>
        <div class="leaderboard-main">
          <div class="leaderboard-top">
            <div>
              <p class="eyebrow">All-time</p>
              <h2 id="leaderboardTitle">Time 15 Leaderboard</h2>
            </div>
            <button id="closeLeaderboardBtn" class="chip ghost" type="button">Close</button>
          </div>
          <div class="leaderboard-table">
            <div class="leaderboard-head">
              <span>#</span>
              <span>Name</span>
              <span>WPM</span>
              <span>Accuracy</span>
              <span>Date</span>
            </div>
            <ol id="leaderboardList" class="leaderboard-rows"></ol>
          </div>
        </div>
      </div>
    </div>

    <div id="publicProfileOverlay" class="overlay profile" aria-hidden="true">
      <div class="profile-card" role="dialog" aria-modal="true" aria-labelledby="publicProfileTitle">
        <div class="profile-header">
          <div class="profile-user">
            <img id="publicAvatar" class="hidden" alt="User avatar" />
            <div>
              <h2 id="publicProfileTitle">Profile</h2>
              <p id="publicName">User</p>
              <p id="publicKeyboard" class="profile-meta"></p>
              <p id="publicJoin" class="profile-meta"></p>
              <p id="publicLevel" class="profile-meta"></p>
              <div class="xp-bar">
                <div id="publicXpFill" class="xp-fill"></div>
              </div>
              <p id="publicXpText" class="profile-meta"></p>
              <p id="publicTitleLine" class="profile-meta"></p>
            </div>
          </div>
          <button id="closePublicProfileBtn" class="chip ghost" type="button">Close</button>
        </div>
        <div>
          <h3>Best Scores</h3>
          <div id="publicBestBar" class="best-bar"></div>
        </div>
      </div>
    </div>

    <footer class="site-footer">
      <div class="footer-actions">
        <a class="footer-link" href="https://github.com/Henvag/PulseType" target="_blank" rel="noreferrer">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 2.2a9.9 9.9 0 0 0-3.13 19.3c.5.09.68-.22.68-.48v-1.7c-2.77.62-3.36-1.19-3.36-1.19-.45-1.17-1.1-1.48-1.1-1.48-.9-.64.07-.63.07-.63 1 .07 1.53 1.05 1.53 1.05.9 1.57 2.36 1.12 2.94.86.09-.67.36-1.12.65-1.38-2.22-.26-4.56-1.14-4.56-5.08 0-1.12.39-2.04 1.03-2.76-.1-.26-.45-1.3.1-2.71 0 0 .84-.27 2.75 1.05a9.2 9.2 0 0 1 5 0c1.9-1.32 2.74-1.05 2.74-1.05.55 1.41.2 2.45.1 2.71.64.72 1.03 1.64 1.03 2.76 0 3.95-2.35 4.81-4.58 5.07.37.33.7.97.7 1.96v2.9c0 .26.18.57.69.48A9.9 9.9 0 0 0 12 2.2Z"></path>
          </svg>
          <span>GitHub</span>
        </a>
        <button id="themeBtn" class="footer-link ghost-link" type="button">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 3a9 9 0 1 0 9 9 9 9 0 0 0-9-9Zm0 2a7 7 0 0 1 6.32 10H12V5Z"></path>
          </svg>
          <span>Theme</span>
        </button>
      </div>
    </footer>

    <div id="themeOverlay" class="overlay theme-overlay" aria-hidden="true">
      <div class="theme-card" role="dialog" aria-modal="true" aria-labelledby="themeTitle">
        <div class="theme-header">
          <h2 id="themeTitle">Themes</h2>
          <button id="closeThemeBtn" class="chip ghost" type="button">Close</button>
        </div>
        <input id="themeSearch" class="theme-search" type="text" placeholder="Search theme..." />
        <div id="themeList" class="theme-list"></div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
